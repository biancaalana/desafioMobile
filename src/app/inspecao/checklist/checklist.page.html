<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <!-- Botão de Voltar -->
    <ion-buttons slot="start" style="color: white">
      <ion-back-button></ion-back-button>
    </ion-buttons>

    <!-- Título principal e secundário -->
    <div class="toolbar-titles">
      <span class="titulo-principal">Inspeção de Segurança</span>
      <span class="subtitulo-secundario">Checklist de EPIs</span>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">

  <!-- Informações básicas -->
  <ion-card>
    <ion-card-header>
      <ion-item lines="none">
        <ion-icon name="location-outline" color="primary"></ion-icon>
        <ion-card-title class="ion-title-margin">Informações básicas</ion-card-title>
      </ion-item>
    </ion-card-header>
    <ion-card-content>
      <ion-grid [formGroup]="informacoesForm">

        <!-- Setor -->
        <ion-row>
          <ion-col>
            <ion-label color="dark">Setor</ion-label>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-input label="Digite o setor" label-placement="floating" fill="outline" placeholder="Digite o setor"
              clear-input="true" formControlName="setor"></ion-input>
          </ion-col>
        </ion-row>

        <!-- Data | Início | Termino -->
        <ion-row>
          <ion-col size="4">
            <ion-label color="dark">Data</ion-label>
          </ion-col>
          <ion-col size="4">
            <ion-label color="dark">Início</ion-label>
          </ion-col>
          <ion-col size="4">
            <ion-label color="dark">Término</ion-label>
          </ion-col>
        </ion-row>

        <!-- Inputs -->
        <ion-row>
          <ion-col size="4">
            <!-- Data -->
            <ion-input type="date" label="dd/mm/aaaa" label-placement="floating" fill="outline" formControlName="data"></ion-input>
          </ion-col>
          <ion-col size="4">
            <!-- Hora Início -->
            <ion-input type="time" label="--:--" label-placement="floating" fill="outline" formControlName="horaInicio"></ion-input>
          </ion-col>
          <ion-col size="4">
            <!-- Hora Término -->
            <ion-input type="time" label="--:--" label-placement="floating" fill="outline" formControlName="horaTermino"></ion-input>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>

  <!-- Equipamentos de proteção indivudual -->
  <ion-card>
    <ion-card-header>
      <ion-item lines="none" class="ion-title-wrap">
        <ion-icon name="alert-circle-outline" color="warning"></ion-icon>
        <ion-card-title class="ion-title-margin">Equipamentos de Proteção Individual</ion-card-title>
      </ion-item>
    </ion-card-header>

    <ion-card-content [formGroup]="equipamentoForm">

      <!-- Setor onde o uso dos EPIs seja obrigatório? -->
      <ion-item lines="none">
        <ion-label>Setor onde o uso dos EPIs seja obrigatório?</ion-label>
      </ion-item>
      <ion-item lines="none">
        <ion-select label-placement="uso-obrigatorio" placeholder="SIM | NÃO | NA" formControlName="epiObrigatorio">
          <ion-select-option *ngFor="let epi of epis; index as i" value="{{ epi }}">{{ epi }}</ion-select-option>
        </ion-select>
      </ion-item>

      <!-- Os funcionários estão utilizando EPIs adequados aos riscos? -->
      <ion-item lines="none">
        <ion-label>Os funcionários estão utilizando EPIs adequados aos riscos?</ion-label>
      </ion-item>
      <ion-item lines="none">
        <ion-select label-placement="utilizando" placeholder="SIM | NÃO | NA" formControlName="epiAdequado">
          <ion-select-option *ngFor="let epi of epis" value="{{ epi }}">{{ epi }}</ion-select-option>
        </ion-select>
      </ion-item>

      <!-- Estado geral de conservação e higienização dos EPIs: -->
      <ion-item lines="none">
        <ion-label>Estado geral de conservação e higienização dos EPIs:</ion-label>
      </ion-item>
      <ion-item lines="none">
        <ion-select label-placement="estado" placeholder="SATISFATÓRIO | REGULAR | RUIM | PÉSSIMO" formControlName="epiConservacao">
          <ion-select-option *ngFor="let estadoEpi of estadoEpis" value="{{ estadoEpi }}">{{ estadoEpi
            }}</ion-select-option>
        </ion-select>
      </ion-item>

      <!-- Os EPIs estão sendo guardados em lugares adequados? -->
      <ion-item lines="none">
        <ion-label>Os EPIs estão sendo guardados em lugares adequados?</ion-label>
      </ion-item>
      <ion-item lines="none">
        <ion-select label-placement="armazenamento" placeholder="SIM | NÃO | NA" formControlName="epiLugar">
          <ion-select-option *ngFor="let epi of epis" value="{{ epi }}">{{ epi }}</ion-select-option>
        </ion-select>
      </ion-item>
    </ion-card-content>
  </ion-card>

  <!-- Contagem de Funcionários -->
  <ion-card>
    <ion-card-header>
      <ion-item lines="none" class="ion-title-wrap">
        <ion-icon name="people-outline" color="success"></ion-icon>
        <ion-card-title class="ion-title-margin">Contagem de Funcionários</ion-card-title>
      </ion-item>
    </ion-card-header>
    <ion-card-content [formGroup]="colaboradorForm">

      <!-- Total Colaboradores -->
      <ion-row>
        <ion-col size="4">
          <ion-label color="dark">Total: {{ totalColaboradores() }}</ion-label>
        </ion-col>
      </ion-row>

      <!-- Usando Epi | Não Usando -->
      <ion-row>
        <ion-col size="6">
          <ion-label color="dark">Usando EPI</ion-label>
        </ion-col>
        <ion-col size="6">
          <ion-label color="dark">Não usando</ion-label>
        </ion-col>
      </ion-row>

      <!-- Inputs -->
      <ion-row>
        <ion-col size="6">
          <!-- Usando EPI -->
          <ion-input type="number" placeholder="0" fill="outline" formControlName="usandoEpi" [(ngModel)]="usandoEpi"></ion-input>
        </ion-col>
        <ion-col size="6">
          <!-- Não usando EPI -->
          <ion-input type="number" placeholder="0" fill="outline" formControlName="naoUsando" [(ngModel)]="naoUsandoEpi"></ion-input>
        </ion-col>
      </ion-row>
    </ion-card-content>
  </ion-card>
  <ion-button shape="round" size="large" expand="block" routerLink="/detalhes" (click)="submitForm()">Continuar para detalhes</ion-button>
</ion-content>